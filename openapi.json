{"openapi":"3.0.2","info":{"title":"Recipe Service","description":"Here you can share your best cooking practice","version":"1.0.0b"},"paths":{"/auth/sign-up":{"post":{"tags":["Auth"],"summary":"Sign Up","description":"Регистрация нового пользователя","operationId":"sign_up_auth_sign_up_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserCreate"}}},"required":true},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Token"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/auth/sign-in":{"post":{"tags":["Auth"],"summary":"Sign In","description":"Авторизация","operationId":"sign_in_auth_sign_in_post","requestBody":{"content":{"application/x-www-form-urlencoded":{"schema":{"$ref":"#/components/schemas/Body_sign_in_auth_sign_in_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Token"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/auth/profile":{"get":{"tags":["Auth"],"summary":"Profile","description":"Вход в профиль пользователя","operationId":"profile_auth_profile_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BaseUser"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/users/":{"get":{"tags":["Users"],"summary":"Get Users","description":"Получение списка пользователей\n- **recipe_status** - Фильтр по статусу (Активен/Заблокирован)","operationId":"get_users_users__get","parameters":[{"required":false,"schema":{"$ref":"#/components/schemas/UserStatus"},"name":"user_status","in":"query"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"title":"Response Get Users Users  Get","type":"array","items":{"$ref":"#/components/schemas/User"}}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/users/top":{"get":{"tags":["Users"],"summary":"Get Top Users","description":"Получение 10 активных пользователей с самым большим количеством рецептов в порядке убывания","operationId":"get_top_users_users_top_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"title":"Response Get Top Users Users Top Get","type":"array","items":{"$ref":"#/components/schemas/User"}}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/users/{user_id}":{"get":{"tags":["Users"],"summary":"Get User By Id","description":"Получение пользователя по ID\n- **user_id** - ID пользователя","operationId":"get_user_by_id_users__user_id__get","parameters":[{"required":true,"schema":{"title":"User Id","type":"integer"},"name":"user_id","in":"path"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/User"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]},"put":{"tags":["Users"],"summary":"Update User","description":"Изменение характеристик пользователя\n- **user_id** - ID пользователя","operationId":"update_user_users__user_id__put","parameters":[{"required":true,"schema":{"title":"User Id","type":"integer"},"name":"user_id","in":"path"}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserUpdate"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/User"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]},"delete":{"tags":["Users"],"summary":"Delete User","description":"Удаление пользователя","operationId":"delete_user_users__user_id__delete","parameters":[{"required":true,"schema":{"title":"User Id","type":"integer"},"name":"user_id","in":"path"}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/recipes/create":{"post":{"tags":["Recipes"],"summary":"Create Recipe","description":"Добавление нового рецепта","operationId":"create_recipe_recipes_create_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RecipeCreate"}}},"required":true},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Recipe"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/recipes/":{"get":{"tags":["Recipes"],"summary":"Get Recipes","description":"Получение списка рецептов\n- **kind** - Фильтр по типу блюда\n- **recipe_status** - Фильтр по статусу (Активен/Заблокирован)","operationId":"get_recipes_recipes__get","parameters":[{"required":false,"schema":{"$ref":"#/components/schemas/RecipeKind"},"name":"kind","in":"query"},{"required":false,"schema":{"$ref":"#/components/schemas/RecipeStatus"},"name":"recipe_status","in":"query"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"title":"Response Get Recipes Recipes  Get","type":"array","items":{"$ref":"#/components/schemas/Recipe"}}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/recipes/{recipe_id}":{"get":{"tags":["Recipes"],"summary":"Get Recipe","description":"Получение рецепта по ID\n- **recipe_id** - ID рецепта","operationId":"get_recipe_recipes__recipe_id__get","parameters":[{"required":true,"schema":{"title":"Recipe Id","type":"integer"},"name":"recipe_id","in":"path"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Recipe"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]},"put":{"tags":["Recipes"],"summary":"Update Recipe","description":"Изменение характеристик рецепта\n- **recipe_id** - ID изменяемого рецепта","operationId":"update_recipe_recipes__recipe_id__put","parameters":[{"required":true,"schema":{"title":"Recipe Id","type":"integer"},"name":"recipe_id","in":"path"}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RecipeUpdate"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Recipe"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]},"delete":{"tags":["Recipes"],"summary":"Delete Recipe","description":"Удаление рецепта\n- **recipe_id** - ID удаляемого рецепта","operationId":"delete_recipe_recipes__recipe_id__delete","parameters":[{"required":true,"schema":{"title":"Recipe Id","type":"integer"},"name":"recipe_id","in":"path"}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}}},"components":{"schemas":{"BaseUser":{"title":"BaseUser","required":["username","created_at","updated_at","hashed_password"],"type":"object","properties":{"id":{"title":"Id","type":"integer"},"username":{"title":"Username","type":"string"},"user_status":{"allOf":[{"$ref":"#/components/schemas/UserStatus"}],"default":"Активен"},"created_at":{"title":"Created At","type":"string","format":"date"},"updated_at":{"title":"Updated At","type":"string","format":"date"},"hashed_password":{"title":"Hashed Password","type":"string"},"recipes_quantity":{"title":"Recipes Quantity","type":"integer","default":0}}},"Body_sign_in_auth_sign_in_post":{"title":"Body_sign_in_auth_sign_in_post","required":["username","password"],"type":"object","properties":{"grant_type":{"title":"Grant Type","pattern":"password","type":"string"},"username":{"title":"Username","type":"string"},"password":{"title":"Password","type":"string"},"scope":{"title":"Scope","type":"string","default":""},"client_id":{"title":"Client Id","type":"string"},"client_secret":{"title":"Client Secret","type":"string"}}},"HTTPValidationError":{"title":"HTTPValidationError","type":"object","properties":{"detail":{"title":"Detail","type":"array","items":{"$ref":"#/components/schemas/ValidationError"}}}},"Recipe":{"title":"Recipe","required":["author","created_at","updated_at","title","kind","description","photo"],"type":"object","properties":{"id":{"title":"Id","type":"integer"},"author":{"title":"Author","type":"integer"},"created_at":{"title":"Created At","type":"string","format":"date"},"updated_at":{"title":"Updated At","type":"string","format":"date"},"title":{"title":"Title","type":"string"},"kind":{"$ref":"#/components/schemas/RecipeKind"},"description":{"title":"Description","type":"string"},"cooking_steps":{"title":"Cooking Steps","type":"string"},"photo":{"title":"Photo","type":"string"},"likes":{"title":"Likes","type":"integer","default":0},"recipe_status":{"allOf":[{"$ref":"#/components/schemas/RecipeStatus"}],"default":"Активен"}}},"RecipeCreate":{"title":"RecipeCreate","required":["title","kind","description","cooking_steps","photo"],"type":"object","properties":{"title":{"title":"Title","type":"string"},"kind":{"$ref":"#/components/schemas/RecipeKind"},"description":{"title":"Description","type":"string"},"cooking_steps":{"title":"Cooking Steps","type":"string"},"photo":{"title":"Photo","type":"string"}}},"RecipeKind":{"title":"RecipeKind","enum":["Салат","Первое блюдо","Второе блюдо","Десерт","Напиток","Выпечка"],"type":"string","description":"An enumeration."},"RecipeStatus":{"title":"RecipeStatus","enum":["Активен","Заблокирован"],"type":"string","description":"An enumeration."},"RecipeUpdate":{"title":"RecipeUpdate","required":["title","kind","description","cooking_steps","photo"],"type":"object","properties":{"title":{"title":"Title","type":"string"},"kind":{"$ref":"#/components/schemas/RecipeKind"},"description":{"title":"Description","type":"string"},"cooking_steps":{"title":"Cooking Steps","type":"string"},"photo":{"title":"Photo","type":"string"}}},"Token":{"title":"Token","required":["access_token","token_type"],"type":"object","properties":{"access_token":{"title":"Access Token","type":"string"},"token_type":{"title":"Token Type","type":"string"}}},"User":{"title":"User","required":["username"],"type":"object","properties":{"id":{"title":"Id","type":"integer"},"username":{"title":"Username","type":"string"},"user_status":{"allOf":[{"$ref":"#/components/schemas/UserStatus"}],"default":"Активен"},"recipes_quantity":{"title":"Recipes Quantity","type":"integer","default":0}}},"UserCreate":{"title":"UserCreate","required":["username","password"],"type":"object","properties":{"username":{"title":"Username","type":"string"},"password":{"title":"Password","type":"string"}}},"UserStatus":{"title":"UserStatus","enum":["Активен","Заблокирован"],"type":"string","description":"An enumeration."},"UserUpdate":{"title":"UserUpdate","required":["username"],"type":"object","properties":{"username":{"title":"Username","type":"string"}}},"ValidationError":{"title":"ValidationError","required":["loc","msg","type"],"type":"object","properties":{"loc":{"title":"Location","type":"array","items":{"anyOf":[{"type":"string"},{"type":"integer"}]}},"msg":{"title":"Message","type":"string"},"type":{"title":"Error Type","type":"string"}}}},"securitySchemes":{"OAuth2PasswordBearer":{"type":"oauth2","flows":{"password":{"scopes":{},"tokenUrl":"/auth/sign-in/"}}}}},"tags":[{"name":"Auth","description":"Регистрация, авторизация, профиль"},{"name":"Users","description":"Действия и операции с пользователями"},{"name":"Recipes","description":"Действия и операции с рецептами"}]}